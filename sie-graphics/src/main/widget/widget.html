<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- Test version of metamac-portal\metamac-portal-web\src\main\webapp\widget.html -->

    <meta charset="utf-8">
    <title></title>

    <!--     <link href="preview/estilos.css" rel="stylesheet" type="text/css" media="screen">
    <link href="preview/imprime.css" rel="stylesheet" type="text/css" media="print">
    <link href="preview/voz.css" rel="stylesheet" type="text/css" media="aural">
    <link href="preview/gobcanoverwrite.css" rel="stylesheet" type="text/css"> -->
    <link rel="stylesheet" href="../../../target/metamac.css" />


    <!-- <script src="http://localhost:8082/js/authentication.js"></script> -->
    <script src="//estadisticas.arte-consultores.com/statistical-visualizer/js/authentication.js"></script>
    <!-- <script src="http://localhost:8082/testing/web/js/authenticationGobierno.js"></script> -->
    <!--     <script src="http://rcorrod:8090/statistical-visualizer-1.0.2-SNAPSHOT/js/authentication.js"></script> -->



    <!--  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-501fc6f600bacbe9"></script>-->


    <style>
        html,
        body {
            margin: 0;
            height: 99%;
        }
    </style>

</head>

<body>

    <div class="metamac-container"></div>

    <script>
        LazyLoad = function (a) { function b(b, c) { var d, e = a.createElement(b); for (d in c) c.hasOwnProperty(d) && e.setAttribute(d, c[d]); return e } function c(a) { var b, c, d = j[a]; d && (b = d.callback, c = d.urls, c.shift(), k = 0, c.length || (b && b.call(d.context, d.obj), j[a] = null, l[a].length && e(a))) } function d() { var b = navigator.userAgent; h = { async: a.createElement("script").async === !0 }, (h.webkit = /AppleWebKit\//.test(b)) || (h.ie = /MSIE|Trident/.test(b)) || (h.opera = /Opera/.test(b)) || (h.gecko = /Gecko\//.test(b)) || (h.unknown = !0) } function e(e, k, m, n, o) { var p, q, r, s, t, u, v = function () { c(e) }, w = "css" === e, x = []; if (h || d(), k) if (k = "string" == typeof k ? [k] : k.concat(), w || h.async || h.gecko || h.opera) l[e].push({ urls: k, callback: m, obj: n, context: o }); else for (p = 0, q = k.length; q > p; ++p)l[e].push({ urls: [k[p]], callback: p === q - 1 ? m : null, obj: n, context: o }); if (!j[e] && (s = j[e] = l[e].shift())) { for (i || (i = a.head || a.getElementsByTagName("head")[0]), t = s.urls, p = 0, q = t.length; q > p; ++p)u = t[p], w ? r = h.gecko ? b("style") : b("link", { href: u, rel: "stylesheet" }) : (r = b("script", { src: u }), r.async = !1), r.className = "lazyload", r.setAttribute("charset", "utf-8"), h.ie && !w && "onreadystatechange" in r && !("draggable" in r) ? r.onreadystatechange = function () { /loaded|complete/.test(r.readyState) && (r.onreadystatechange = null, v()) } : w && (h.gecko || h.webkit) ? h.webkit ? (s.urls[p] = r.href, g()) : (r.innerHTML = '@import "' + u + '";', f(r)) : r.onload = r.onerror = v, x.push(r); for (p = 0, q = x.length; q > p; ++p)i.appendChild(x[p]) } } function f(a) { var b; try { b = !!a.sheet.cssRules } catch (d) { return k += 1, 200 > k ? setTimeout(function () { f(a) }, 50) : b && c("css"), void 0 } c("css") } function g() { var a, b = j.css; if (b) { for (a = m.length; --a >= 0;)if (m[a].href === b.urls[0]) { c("css"); break } k += 1, b && (200 > k ? setTimeout(g, 50) : c("css")) } } var h, i, j = {}, k = 0, l = { css: [], js: [] }, m = a.styleSheets; return { css: function (a, b, c, d) { e("css", a, b, c, d) }, js: function (a, b, c, d) { e("js", a, b, c, d) } } }(this.document);

        function getQueryParams(params) {
            var reg = new RegExp("(^|&)" + params + "=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return unescape(r[2]);
            return null;
        }
    </script>
    <script>
        LazyLoad.js('../../../target/metamac.js', function () {


            I18n.defaultLocale = "es";
            I18n.locale = "es";

            App.queryParams["agency"] = getQueryParams("agencyId");
            App.queryParams["identifier"] = getQueryParams("resourceId");
            App.queryParams["version"] = getQueryParams("version");
            App.queryParams["type"] = getQueryParams("resourceType");
            App.queryParams["indicatorSystem"] = getQueryParams("indicatorSystem");
            App.config["chromeFrameObject"] = getQueryParams("chromeFrameObject");
            App.config["installationType"] = "EXTERNAL";

            App.config["widget"] = true;

            App.endpoints["statistical-resources"] = "http://estadisticas.arte-consultores.com/statistical-resources-internal/apis/statistical-resources-internal/v1.0";
            App.endpoints["structural-resources"] = "http://estadisticas.arte-consultores.com/structural-resources/v1.0";
            //   App.endpoints["structural-resources"] = "http://estadisticas.arte-consultores.com/structural-resources-internal/apis/structural-resources-internal/v1.0";
            App.endpoints["statistical-visualizer"] = "http://estadisticas.arte-consultores.com/statistical-visualizer";
            App.endpoints["permalinks"] = "http://estadisticas.arte-consultores.com/permalinks/v1.0";
            App.endpoints["export"] = "http://estadisticas.arte-consultores.com/export/v1.0";
            App.endpoints["sharedVisualizerUrl"] = getQueryParams("sharedVisualizerUrl");
            App.endpoints["indicators"] = "http://estadisticas.arte-consultores.com/indicators/v1.0";

            App.start();
        });
    </script>
</body>

</html>